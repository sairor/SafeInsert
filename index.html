<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Safe-Insert</title>
    <link rel="icon" type="image/png" href="app_icon.png">
    <link rel="apple-touch-icon" href="app_icon.png">

    <!-- Tailwind CSS (CDN para dev rápido sem build) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ios-blue': '#007AFF',
                        'ios-green': '#34C759',
                        'ios-red': '#FF3B30',
                        'ios-gray-6': '#F2F2F7',
                    }
                }
            }
        }
    </script>

    <!-- Lucide Icons (Versão Fixa para estabilidade) -->
    <script src="https://unpkg.com/lucide@0.320.0/dist/umd/lucide.min.js"></script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #F2F2F7;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .ios-input {
            appearance: none;
            background-color: transparent;
            outline: none;
        }

        /* Transitions */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .slide-up {
            animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }

            to {
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="h-screen flex flex-col overflow-hidden">

    <!-- APP CONTENT AREA -->
    <main id="app-content" class="flex-1 overflow-y-auto pb-24 px-4 pt-4 hide-scrollbar relative">
        <!-- As views serão renderizadas aqui via Javascript -->
    </main>

    <!-- BOTTOM NAVIGATION -->
    <nav
        class="fixed bottom-0 w-full bg-white border-t border-gray-200 pb-[env(safe-area-inset-bottom)] pt-2 h-[85px] z-50">
        <div class="flex justify-around items-start h-full px-2">
            <button onclick="router.navigate('work')" id="nav-work"
                class="flex flex-col items-center gap-1 w-20 transition-colors text-gray-400">
                <i data-lucide="briefcase" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">Trabalho</span>
            </button>
            <button onclick="router.navigate('mei')" id="nav-mei"
                class="flex flex-col items-center gap-1 w-20 transition-colors text-gray-400">
                <i data-lucide="building-2" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">Contas</span>
            </button>
            <button onclick="router.navigate('home')" id="nav-home"
                class="flex flex-col items-center gap-1 w-20 transition-colors text-gray-400">
                <i data-lucide="home" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">Casa</span>
            </button>
            <button onclick="router.navigate('reports')" id="nav-reports"
                class="flex flex-col items-center gap-1 w-20 transition-colors text-gray-400">
                <i data-lucide="bar-chart-3" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">Relatórios</span>
            </button>
        </div>
    </nav>

    <!-- MODAL CONTAINER (Overlay) -->
    <div id="modal-overlay"
        class="hidden fixed inset-0 bg-black/40 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm transition-opacity"
        onclick="ui.closeModal(event)">
        <!-- MODAL CONTENT will be injected here -->
        <div id="modal-content"
            class="w-full sm:max-w-md bg-[#F2F2F7] rounded-t-2xl sm:rounded-2xl max-h-[90vh] overflow-hidden shadow-2xl slide-up"
            onclick="event.stopPropagation()">
            <!-- Dynamic Content -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script>
        // Init Icons
        lucide.createIcons();
    </script>
</body>

</html>